<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Problem Set</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.5;
            padding: 5px;
        }

        h1 {
            border-bottom: 2px solid #ccc;
            padding-bottom: 10px;
        }

        h2 {
            margin-top: 30px;
        }

        table {
            border-collapse: collapse;
        }

        th,
        td {
            padding: 5px;
            border: 1px solid #ccc;
        }

        pre {
            margin: 0px;

            &.solution {
                border-radius: 5px;
                border: thin solid #000;
                padding: 3px;
                text-wrap: wrap;
            }

            code.dim {
                background: #f4f4f4;
            }
        }

        @page {
            size: A4;
            margin: .5in;
        }
    </style>
    <style>
        {% include "./style.css" %}
    </style>
    {% include "./katex_includes.html" %}
    {% include "./highlightjs_includes.html" %}

</head>

<body>

    <h1>{{unit_name}}</h1>

    {% for problem in problems %}
    <div class="problem">
        <h2>{{ problem.title }}</h2>
        <div class="prob-statement">
            {{ problem.statement | gfm}}
        </div>
        <div style="display: flex; flex-direction: row; flex-wrap:wrap; gap: 20px;">
            <div style="flex: content;">
                <h3>Code Template</h3>
                <pre
                    class="solution">{%if problem.code.prefix.strip() %}<code class="dim lang-{{problem.lang}}">{{problem.code.prefix|e}}</code>{% endif %}<code class="lang-{{problem.lang}}">{{ problem.code.template | e }}</code>{%if problem.code.suffix.strip() %}<code class="dim lang-{{problem.lang}}">{{problem.code.suffix | e}}</code>{% endif%}</pre>
            </div>
            <div style="flex: content;">
                <h3>Solution</h3>
                <pre
                    class="solution">{%if problem.code.prefix.strip() %}<code class="dim lang-{{problem.lang}}">{{problem.code.prefix | e}}</code>{% endif %}<code class="lang-{{problem.lang}}">{{ problem.code.solution | e }}</code>{%if problem.code.suffix.strip() %}<code class="dim lang-{{problem.lang}}">{{problem.code.suffix | e}}</code>{% endif%}</pre>
            </div>
        </div>

        {% if problem.code.suffix_invisible %}
        <h3>Invisible Suffix</h3>
        <pre class="solution"><code>{{problem.code.suffix_invisible | e }}</code></pre>
        {% endif %}
        <div style="display: flex; flex-direction: row; flex-wrap:wrap; gap: 20px;">
            {% for groupName, testcaseGroup in [["Public",problem.testcases.public_testcases],
            ["Private",problem.testcases.private_testcases]]%}
            <div style="flex: content;">
                <h3>{{groupName}} Test Cases</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Input</th>
                            <th>Expected Output</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for testcase in testcaseGroup %}
                        <tr>
                            <td>
                                <pre>{{ testcase.input | e }}</pre>
                            </td>
                            <td>
                                <pre>{{ testcase.output | e }}</pre>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endfor %}

</body>

</html>